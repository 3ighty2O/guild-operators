<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>CNTools - Cardano Community managed Documentation for Pool Operators</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../Home.html">Getting Started</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../architecture.html">Architecture</a></li><li class="chapter-item expanded "><a href="../Common.html">Common</a></li><li class="chapter-item expanded "><a href="../build-and-run.html">Build and Run</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Build/node-cli.html">Node and CLI</a></li><li class="chapter-item expanded "><a href="../Build/wallet.html">Wallet</a></li><li class="chapter-item expanded "><a href="../Build/rest.html">REST</a></li><li class="chapter-item expanded "><a href="../Build/dbsync.html">DBSync tool</a></li><li class="chapter-item expanded "><a href="../Build/graphql.html">GraphQL</a></li></ol></li><li class="chapter-item expanded "><a href="../Setup-Node.html">Set up node as pool operator</a></li><li class="chapter-item expanded "><a href="../cli-scripts.html">Useful Scripts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Scripts/cntools.html" class="active">CNTools</a></li><li class="chapter-item expanded "><a href="../Scripts/createAddr.html">Create Keys/Address</a></li><li class="chapter-item expanded "><a href="../Scripts/sendADA.html">Make Transactions</a></li><li class="chapter-item expanded "><a href="../Scripts/topologyupdater.html">topology Updater</a></li></ol></li><li class="chapter-item expanded "><a href="../Staking/Main.html">Guide to the Staking</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Staking/Keys.html">Keys</a></li><li class="chapter-item expanded "><a href="../Staking/Addresses.html">Addresses</a></li><li class="chapter-item expanded "><a href="../Staking/Certificates.html">Certificates</a></li><li class="chapter-item expanded "><a href="../Staking/StakeHolders.html">StakeHolders</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../Staking/Owners.html">Owners</a></li><li class="chapter-item "><a href="../Staking/Operators.html">Operators</a></li><li class="chapter-item "><a href="../Staking/Delegates.html">Delegates</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../Home.html">Appendix</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Appendix/monitoring.html">Monitoring using Prometheus and Grafana</a></li><li class="chapter-item expanded "><a href="../Appendix/postgres.html">Sample Postgres Setup</a></li><li class="chapter-item expanded "><a href="../Appendix/Setup-Node-Genesis.html">Set up node as BFT member defined in Genesis</a></li></ol></li><li class="chapter-item expanded "><a href="../Contributors.html">Contributors</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                    </div>

                    <h1 class="menu-title">Cardano Community managed Documentation for Pool Operators</h1>

                    <div class="right-buttons">
                        
                        <a href="https://github.com/cardano-community/guild-operators/blob/master/docs/Scripts/cntools.md" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#quickstart-for-using-cntools" id="quickstart-for-using-cntools">Quickstart for using CNTOOLS</a></h1>
<p>CNTOOLS is a simple shell script that will simplify typical operations used in FF and HTN testnets.  We have developed this for our own use, and as such tend to follow some well worn paths when using it.  See below for simple step by step guide for getting a pool setup on the FF network.  Please note that this tool is tested on linux platforms only at this point.
The script assumes the <a href="../Common.html#dependencies-and-folder-structure-setup">Pre-Requisites</a> have already been run.</p>
<h4><a class="header" href="#download-and-configuration-cntoolssh" id="download-and-configuration-cntoolssh">Download and Configuration cntools.sh</a></h4>
<p>If you have run <code>prereqs.sh</code>, this should already be available in your scripts folder and make this step unnecessary. </p>
<p>CNTOOLS connects to your node through the configuration in the env file located in the same directory as the script.  Customize this file for your needs.  CNTOOLS will start even if you node is offline, but don't expect to get very far.</p>
<p>To download cntools manually you can execute the commands below:</p>
<pre><code class="language-bash">cd $CNODE_HOME/scripts
curl -s -o cntools.sh https://raw.githubusercontent.com/cardano-community/guild-operators/master/scripts/cnode-helper-scripts/cntools.sh
curl -s -o cntools.config https://raw.githubusercontent.com/cardano-community/guild-operators/master/scripts/cnode-helper-scripts/cntools.config
curl -s -o cntools.library https://raw.githubusercontent.com/cardano-community/guild-operators/master/scripts/cnode-helper-scripts/cntools.library
curl -s -o env https://raw.githubusercontent.com/cardano-community/guild-operators/master/scripts/cnode-helper-scripts/env
chmod 750 cntools.sh
chmod 640 cntools.config cntools.library env 
</code></pre>
<h4><a class="header" href="#start" id="start">Start</a></h4>
<p>Insure the tool is executable and start it with:</p>
<pre><code>$ ./cntools.sh
</code></pre>
<p>You should get a screen that looks something like this:</p>
<pre><code> &gt;&gt; CNTOOLS &lt;&lt;                                       A Guild Operators collaboration
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   Main Menu
   1) update
   2) wallet  [ new / upgrade | list | show | remove |
                decrypt / unlock | encrypt / lock ]
   3) funds   [ send | delegate ]
   4) pool    [ new | register | list | show | rotate KES |
                decrypt / unlock | encrypt / lock ]
   q) quit
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
What would you like to do? (1-4):
</code></pre>
<h1><a class="header" href="#step-by-step-to-create-a-pool-with-cntools" id="step-by-step-to-create-a-pool-with-cntools">Step by Step to create a pool with CNTOOLS</a></h1>
<ol>
<li>Choose <strong>wallet</strong> (option  2)</li>
</ol>
<pre><code> &gt;&gt; WALLET
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   Wallet Management

   1) new / upgrade
   2) list
   3) show
   4) remove
   5) decrypt / unlock
   6) encrypt / lock
   h) home
   q) quit
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
What wallet operation would you like to perform? (1-6):
</code></pre>
<ol start="2">
<li>Choose <strong>new / upgrade</strong> (option  1)</li>
</ol>
<pre><code> &gt;&gt; WALLET &gt;&gt; NEW / UPGRADE
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   Wallet Type

   1) payment  - First step for a new wallet
                 A payment wallet can send and receive funds but not delegate/pledge.

   2) stake    - Upgrade existing payment wallet to a stake wallet
                 Make sure there are funds available in payment wallet before upgrade
                 as this is needed to pay for the stake wallet registration fee.
                 A stake wallet is needed to be able to delegate and pledge to a pool.
                 All funds from payment address will be moved to base address.
   h) home
   q) quit
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Choose wallet type (1-2):
</code></pre>
<ol start="3">
<li>Choose <strong>payment</strong> type of wallet (option  1)</li>
<li>Give the wallet a name</li>
<li>CNTOOLS will give you your payment address.  For example:</li>
</ol>
<pre><code>&gt;&gt; WALLET &gt;&gt; NEW &gt;&gt; PAYMENT
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Name of new wallet: bob

Wallet: bob
Payment Address: 60ca926192c09b2fc689b5258d9265038c4270e1f1934413255822db1f9645e2c1
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</code></pre>
<ol start="6">
<li><strong>Send some money to this wallet.</strong>  Either through the faucet or have a friend send you some.  IMPORTANT...  The wallet must have funds in it before you can proceed.</li>
<li>From the main menu choose <strong>wallet</strong> (option #2) and then this time choose <strong>stake</strong> (option #2) to upgrade your wallet</li>
<li>CNTOOLS will give you a list of wallets you can upgrade.  choose the wallet you created in step 4.  In this example case that wallet is called <strong>bob</strong>.   This will send a transaction to the blockchain to upgrade your wallet to a staking wallet.  the result should look something like this:</li>
</ol>
<pre><code>--- Balance Check Source Address -------------------------------------------------------

Total balance in 0 UTxO is 0 Lovelaces or 0 ADA
Wallet: bob
Payment Address: 60ca926192c09b2fc689b5258d9265038c4270e1f1934413255822db1f9645e2c1
Reward Address:  5821e00e0798d1028c9fcd1a1ac2cb0a6af63dd51deb018dfd2fa91abe32c27490e980
Base Address:    00ca926192c09b2fc689b5258d9265038c4270e1f1934413255822db1f9645e2c10e0798d1028c9fcd1a1ac2cb0a6af63dd51deb018dfd2fa91abe32c27490e980
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</code></pre>
<p>The total balance is 0 for the payment address because ALL funds have been moved to the base address.
9.  From the main menu select <strong>pool</strong> (option 4)</p>
<pre><code>&gt;&gt; POOL
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   Pool Management

   1) new
   2) register
   3) list
   4) show
   5) rotate KES keys
   6) decrypt / unlock
   7) encrypt / lock
   h) home
   q) quit
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
What pool operation would you like to perform? (1-7):
</code></pre>
<ol start="10">
<li>select <strong>new</strong> to create a new pool (option 1)</li>
<li>Give the pool a name.  in our case we call it LOVE.  The result should look something like this:</li>
</ol>
<pre><code> &gt;&gt; POOL &gt;&gt; NEW
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Pool Name: LOVE

Pool: LOVE
PoolPubKey: 687c3f588d996ee5fc751cc581826f63c407b1c46514ef9fe3001fa96d3a75bc
Start cardano node with the following run arguments:
--shelley-kes-key /opt/cardano/cnode/priv/pool/LOVE/hot.skey
--shelley-vrf-key /opt/cardano/cnode/priv/pool/LOVE/vrf.skey
--shelley-operational-certificate /opt/cardano/cnode/priv/pool/LOVE/op.cert
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</code></pre>
<ol start="12">
<li>start or restart your cardano-node with the parameters as shown.  This will insure your node has all the information necessary to create blocks.  IMPORTANT.  If you do not start your node with these parameters you won't be able to make blocks.</li>
<li>from the main menu select <strong>pool</strong> (option 4)</li>
<li>select <strong>register</strong> (option 2)</li>
<li>select the pool you just created in step 11 above</li>
<li>CNTOOLS will give you prompts to set pledge, margin and cost.  Enter values that are useful to you.  Make sure you set your pledge low enough to insure your funds in your wallet will cover pledge plus pool registration fees.  It will look something like this:</li>
</ol>
<pre><code>Pledge in ADA (default: 50000): 899
Margin (default: 0.07): 0.10
Cost in ADA (default: 256): 500
</code></pre>
<ol start="17">
<li>select the wallet you want to register the pool with.</li>
<li>DONE!  The output should look something like this:</li>
</ol>
<pre><code>New block was created - 107

--- Balance Check Source Address -------------------------------------------------------
                           TxHash                                 TxIx        Lovelace
----------------------------------------------------------------------------------------
7f4294db8036bf985bea434d2b910176d8b274f8b7a413748b53540138e3dfaa     0         899947600

Total balance in 1 UTxO is 899947600 Lovelaces or 899.9476 ADA

Pool LOVE successfully registered using wallet bob for pledge
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../cli-scripts.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../Scripts/createAddr.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../cli-scripts.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../Scripts/createAddr.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        
        <script src="../ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="../editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>
        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
